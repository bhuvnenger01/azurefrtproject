/*! http://responsiveslides.com v1.54 by @viljamis */
(function($, window, i) {
    $.fn.responsiveSlides = function(options) {
      var settings = $.extend({
        auto: true,
        speed: 500,
        timeout: 4000,
        pager: false,
        nav: false,
        random: false,
        pause: false,
        pauseControls: true,
        prevText: "Previous",
        nextText: "Next",
        maxwidth: "",
        navContainer: "",
        manualControls: "",
        namespace: "rslides",
        before: $.noop,
        after: $.noop,
        fadeEffect: true,
        customAnimations: false
      }, options);
  
      return this.each(function() {
        i++;
        var $this = $(this),
          namespace = settings.namespace,
          namespaceIdx = namespace + i,
          $slides = $this.children(),
          slideCount = $slides.size(),
          currentSlide = 0,
          nextSlide = 0,
          maxwidth = parseFloat(settings.maxwidth),
          interval;
  
        function init() {
          $this.addClass(namespace + " " + namespaceIdx);
          if (settings.maxwidth) $this.css("max-width", maxwidth);
          $slides.hide().css({ "opacity": 0, "position": "absolute", "z-index": 1 }).eq(0).addClass(namespaceIdx + "_on").css({ "opacity": 1, "z-index": 2 });
  
          if (settings.auto) startCycle();
  
          if (settings.pager) createPager();
          if (settings.nav) createNav();
        }
  
        function createPager() {
          var pagerHtml = "<ul class='" + namespace + "_tabs " + namespaceIdx + "_tabs'></ul>";
          $this.after(pagerHtml);
          var $pager = $this.next("." + namespace + "_tabs");
          $slides.each(function(index) {
            $pager.append("<li><a href='#' class='" + namespaceIdx + "_" + (index + 1) + "'>" + (index + 1) + "</a></li>");
          });
          $pager.on("click", "a", function(event) {
            event.preventDefault();
            nextSlide = $(this).parent().index();
            if (currentSlide !== nextSlide) goToSlide(nextSlide);
          });
        }
  
        function createNav() {
          var navHtml = "<a href='#' class='" + namespaceIdx + "_nav prev'>" + settings.prevText + "</a><a href='#' class='" + namespaceIdx + "_nav next'>" + settings.nextText + "</a>";
          $this.after(navHtml);
          $this.nextAll("." + namespaceIdx + "_nav").on("click", function(event) {
            event.preventDefault();
            nextSlide = $(this).hasClass("prev") ? currentSlide - 1 : currentSlide + 1;
            if (nextSlide < 0) nextSlide = slideCount - 1;
            if (nextSlide >= slideCount) nextSlide = 0;
            goToSlide(nextSlide);
          });
        }
  
        function startCycle() {
          interval = setInterval(function() {
            nextSlide = currentSlide + 1;
            if (nextSlide >= slideCount) nextSlide = 0;
            goToSlide(nextSlide);
          }, settings.timeout);
        }
  
        function stopCycle() {
          clearInterval(interval);
        }
  
        function goToSlide(index) {
          settings.before(index);
          $slides.stop(true, true).fadeOut(settings.speed).eq(index).fadeIn(settings.speed, function() {
            $(this).addClass(namespaceIdx + "_on").siblings().removeClass(namespaceIdx + "_on");
            settings.after(index);
          });
          currentSlide = index;
        }
  
        if (settings.pause) {
          $this.hover(function() {
            stopCycle();
          }, function() {
            startCycle();
          });
        }
  
        init();
      });
    };
  })(jQuery, this, 0);
  